(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),i=a.n(o),s=a(26),l=a(27),c=a(29),u=a(28),d=a(30),h=(a(92),a(46)),m=a(120),p=a(114),f=a(40),g=a(67),b=a.n(g);a(93),a(97);b.a.initializeApp({apiKey:"AIzaSyCF3fyTJkdvIG9ne8V7KCCNIF9M9XjYLXg",authDomain:"todo-2612d.firebaseapp.com",databaseURL:"https://todo-2612d.firebaseio.com",projectId:"todo-2612d",storageBucket:"todo-2612d.appspot.com",messagingSenderId:"386250605586",appId:"1:386250605586:web:643807c61b0c73fa2d04cb"});var E=b.a,x=(a(99),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).auth=E.auth(),a.provider=new E.auth.FacebookAuthProvider,a.hsndelSignin=function(){a.auth.signInWithPopup(a.provider).then((function(e){var t=e.user;console.log(t)}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,null),r.a.createElement(p.a,{as:"button",onClick:this.hsndelSignin,backgroundColor:"#3b5998",size:"lg",color:"#fff",borderRadius:"60px",width:"250px",alignItems:"center",px:"35px",justifyContent:"space-between",fontSize:"25px",fontWeight:"bold",height:"50px",m:"auto",mt:"250px"},"Signin With ",r.a.createElement(f.a,{as:"i",className:"fa fa-facebook-square",fontSize:"25px"})))}}]),t}(n.Component)),k=a(61),C=a(7),v=a(117),y=a(119),S=a(70),j=a(64),w=a.n(j),I=a(82),O=a(83),T=a(115),N=a(116),_=a(45);var A=function(e){var t=e.id,a=e.deleteItem,n=r.a.useState(),o=Object(O.a)(n,2),i=o[0],s=o[1],l=function(){return s(!1)},c=r.a.useRef();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{w:"45px",h:"45px",p:"0",icon:"close",size:"lg",fontSize:"20px",variantColor:"red",onClick:function(){return s(!0)}}),r.a.createElement(N.a,{isOpen:i,leastDestructiveRef:c,onClose:l},r.a.createElement(_.f,null),r.a.createElement(N.b,null,r.a.createElement(_.e,{fontSize:"lg",fontWeight:"bold"},"Delete Customer"),r.a.createElement(_.b,null,"Are you sure? You can't undo this action afterwards."),r.a.createElement(_.d,null,r.a.createElement(S.a,{ref:c,onClick:l},"Cancel"),r.a.createElement(S.a,{variantColor:"red",onClick:function(){return a(t)},ml:3},"Delete")))))},z=a(121),D=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.handelDateSort,o=t.handelNameSort,i=t.itemDone,s=t.handlefilter,l=a.length?a.map((function(t){return r.a.createElement(p.a,{fontSize:"lg",fontWeight:"medium",key:t.key,className:t.done?"done":"undone"},r.a.createElement(p.a,{py:"7px",border:"1px",borderRight:"0",borderTop:"0",borderColor:"gray.200",w:"20%",h:"50px",alignItems:"center",justifyContent:"center",className:"task"},t.task),r.a.createElement(p.a,{py:"7px",border:"1px",borderRight:"0",borderTop:"0",borderColor:"gray.200",w:"20%",h:"50px",alignItems:"center",justifyContent:"center",className:"date"},t.date),r.a.createElement(p.a,{py:"7px",border:"1px",borderRight:"0",borderTop:"0",borderColor:"gray.200",w:"20%",h:"50px",alignItems:"center",justifyContent:"center",className:"time"},t.time),r.a.createElement(p.a,{py:"7px",border:"1px",borderRight:"0",borderTop:"0",borderColor:"gray.200",w:"30%",h:"50px",alignItems:"center",justifyContent:"center",className:"tags",id:"tags"},Object(I.a)(new Set(t.tags)).map((function(e){return r.a.createElement(z.a,{as:"a",onClick:s,href:"#!",key:Math.random(),ml:"5px"},"#",e)}))),r.a.createElement(p.a,{py:"7px",border:"1px",borderTop:"0",borderColor:"gray.200",w:"10%",h:"50px",alignItems:"center",justifyContent:"space-around"},r.a.createElement(T.a,{size:"lg",fontSize:"20px",w:"45px",h:"45px",variantColor:"green",icon:"check",onClick:function(){return i(t.key)}}),r.a.createElement(A,{id:t.key,items:a,deleteItem:e.props.deleteItem})))})):r.a.createElement(p.a,{textAlgin:"center",alignItems:"center",justifyContent:"space-around",color:"#e53e3e",fontSize:"20px",fontWeight:"bold"}," There is No Tasks To Show ");return r.a.createElement("div",{className:"ListItems"},r.a.createElement(p.a,{fontSize:"xl",fontWeight:"bold"},r.a.createElement(p.a,{border:"1px",borderRight:"0",borderColor:"gray.200",w:"20%",h:"50px",alignItems:"center",justifyContent:"center",className:"task title",onClick:o},"Task"),r.a.createElement(p.a,{border:"1px",borderRight:"0",borderColor:"gray.200",w:"20%",h:"50px",alignItems:"center",justifyContent:"center",className:"date title",onClick:n}," Date "),r.a.createElement(p.a,{border:"1px",borderRight:"0",borderColor:"gray.200",w:"20%",h:"50px",alignItems:"center",justifyContent:"center",className:"time title"},"Time"),r.a.createElement(p.a,{border:"1px",borderRight:"0",borderColor:"gray.200",w:"30%",h:"50px",alignItems:"center",justifyContent:"center",className:"tags title",id:"tags"},"Tags"),r.a.createElement(p.a,{border:"1px",borderColor:"gray.200",w:"10%",h:"50px",alignItems:"center",justifyContent:"center",className:"action title"},"Action")),l)}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={task:"",date:"",time:"",tags:[],done:!1},a.handelChange=function(e){a.setState(Object(k.a)({},e.target.id,e.target.value))},a.handelSave=function(e){e.preventDefault(),""===a.state.task||""===a.state.date?alert("Fill The Data "):(a.props.addItem(a.state),a.setState({task:"",date:"",time:"",tags:[],done:!1}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,null),r.a.createElement(C.a,{mt:"25px",mx:"auto",textAlign:"center"},r.a.createElement(p.a,{as:"form",onSubmit:this.handelSave},r.a.createElement(y.a,{type:"text",placeholder:"Enter Task ....",id:"task",onChange:this.handelChange,value:this.state.task}),r.a.createElement(y.a,{ml:"15px",type:"date",placeholder:"Enter Date ....",id:"date",onChange:this.handelChange,value:this.state.date}),r.a.createElement(y.a,{ml:"15px",type:"time",placeholder:"Enter time ....",id:"time",onChange:this.handelChange,value:this.state.time}),r.a.createElement(y.a,{ml:"15px",as:"input",type:"text",placeholder:"Enter tags ....",id:"tags",onChange:this.handelChange,value:this.state.tags}),r.a.createElement(S.a,{w:"150px",ml:"15px",variantColor:"blue",type:"submit"},"Add"))))}}]),t}(n.Component),U=a(81),L=function(e){var t=e.filter,a=e.filterSearch,n=e.allTags.map((function(e){var t=e.key;return{label:e.tag,value:t}}));return r.a.createElement(h.a,null,r.a.createElement(m.a,null),r.a.createElement(p.a,{alignItems:"center",mb:"25px",justifyContent:"space-between",className:"filters-cont"},r.a.createElement(p.a,{as:"form"},r.a.createElement(U.a,{options:n,id:"select",className:"filterInput",onChange:a,isMulti:!0,placeholder:"tags"})),r.a.createElement(p.a,{className:"filters"},r.a.createElement(S.a,{as:"button",px:"20px",mr:"15px",h:"40px",fontSize:"18px",variantColor:"green",id:"all",onClick:t},"All"),r.a.createElement(S.a,{as:"button",px:"20px",mr:"15px",h:"40px",fontSize:"18px",variantColor:"green",id:"done",onClick:t},"done"),r.a.createElement(S.a,{as:"button",px:"20px",h:"40px",fontSize:"18px",variantColor:"green",id:"undone",onClick:t},"undone"))))},W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).ref=E.firestore().collection("tasks"),a.tags=E.firestore().collection("tags"),a.tasks_tags=E.firestore().collection("tasks_tags"),a.auth=E.auth(),a.unsubscribe=null,a.tags_unsubscribe=null,a.state={items:[],currentitems:[],allTags:[]},a.onCollectionUpdate=function(e){var t=[];e.forEach((function(e){a.auth.onAuthStateChanged((function(n){var r=[],o=[],i=e.data(),s=i.task,l=i.date,c=i.time,u=i.done;i.assignTo===n.uid&&a.tasks_tags.where("task_id","==",e.id).get().then((function(n){n.forEach((function(e){r.push(e.data().tag_id)})),a.tags.get().then((function(e){e.forEach((function(e){r.includes(e.id)&&o.push(e.data().tag)}))})).then((function(){t.push({key:e.id,doc:e,task:s,date:l,time:c,tags:o,done:u}),a.setState({items:t})}))}))}))}))},a.onCollectionUpdateTags=function(e){var t=[],n=[];a.tasks_tags.get().then((function(e){e.forEach((function(e){n.push(e.data().tag_id)}))})).then((function(){e.forEach((function(e){var a=e.data().tag;n.includes(e.id)&&t.push({key:e.id,doc:e,tag:a})})),a.setState({allTags:t})}))},a.test=function(){var e=a.state.items,t=a.state.currentitems;e.map((function(e){return t.push(e),1})),a.setState({currentitems:t})},a.previousState=function(){a.tags_unsubscribe=a.tags.onSnapshot(a.onCollectionUpdateTags);var e=a.ref.onSnapshot(a.onCollectionUpdate);a.setState({items:e})},a.deleteItem=function(e){a.ref.doc(e).delete(),a.tasks_tags.get().then((function(t){t.forEach((function(t){t.data().task_id===e&&(a.tasks_tags.doc(t.id).delete(),a.tags.doc(t.data().tag_id).delete())}))})),console.log(e),a.previousState()},a.itemDone=function(e){a.ref.get().then((function(t){t.forEach((function(t){t.id===e&&!0===t.data().done?a.ref.doc(e).update({done:!1}):t.id===e&&!1===t.data().done&&a.ref.doc(e).update({done:!0})}))}))},a.handelDateSort=function(){var e=w.a.sortBy(a.state.items,["date"]);a.setState({items:e})},a.handelNameSort=function(){var e=w.a.sortBy(a.state.items,["task"]);a.setState({items:e})},a.addItem=function(e){var t=e.tags.split(", ");t.forEach((function(e){a.tags.add({tag:e})})),a.auth.onAuthStateChanged((function(t){a.ref.add({task:e.task,date:e.date,time:e.time,done:e.done,assignTo:t.uid})}));var n=[];a.ref.where("task","==",e.task).get().then((function(e){e.forEach((function(e){n.push(e.id)}))})).then((function(){a.tags.where("tag","in",t).get().then((function(e){e.forEach((function(e){n.push(e.id)}))})).then((function(){for(var e=1;e<n.length;e++)a.tasks_tags.add({tag_id:n[e],task_id:n[0]})})).then((function(){a.previousState()}))}))},a.loop=function(e,t){a.ref=E.firestore().collection("tasks").where(e,"==",t);var n=a.ref.onSnapshot(a.onCollectionUpdate);a.setState({items:n})},a.filter=function(e){switch(e.target.id){case"all":a.previousState();break;case"done":a.loop("done",!0);break;case"undone":a.loop("done",!1);break;default:return 1}},a.handlefilter=function(e){var t=e.target.text.substring(1),n=[];a.tags.where("tag","==",t).get().then((function(e){e.forEach((function(e){n.push(e.id)})),console.log(n),a.searchTags(n)}))},a.filterSearch=function(e){if(null!=e){var t=w.a.map(e,"value");a.searchTags(t)}else a.previousState()},a.searchTags=function(e){var t=[],n=a.state.items,r=[];a.tasks_tags.where("tag_id","in",e).get().then((function(e){e.forEach((function(e){t.push(e.data().task_id)})),n.forEach((function(e){t.includes(e.key)&&(console.log(e),console.log(e.key),r.push(e))})),a.setState({items:r})})).catch((function(e){console.log("Error getting documents: ",e)}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.tags_unsubscribe=this.tags.onSnapshot(this.onCollectionUpdateTags),this.test()}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,null),r.a.createElement(C.a,{w:"90%",mx:"auto"},r.a.createElement(v.a,{mt:"25px",className:"text-center",textAlign:"center"},"Add Item"),r.a.createElement(C.a,{className:"content"},r.a.createElement(R,{addItem:this.addItem})),r.a.createElement(C.a,{className:"content"},r.a.createElement(v.a,{mt:"25px",className:"text-center",textAlign:"center"},"Todo List"),r.a.createElement(L,{filter:this.filter,filterSearch:this.filterSearch,allTags:this.state.allTags}),r.a.createElement(D,{items:this.state.items,handlefilter:this.handlefilter,deleteItem:this.deleteItem,itemDone:this.itemDone,handelDateSort:this.handelDateSort,handelNameSort:this.handelNameSort}))))}}]),t}(n.Component),F=(n.Component,a(118)),B=function(e){var t=e.user,a=e.handelLagout,n=t?r.a.createElement(F.d,null,r.a.createElement(F.a,{as:S.a,bg:"transparent",_hover:{bg:"transparent"},_expanded:{bg:"transparent"},_active:{bg:"transparent"},_focus:{outline:0,boxShadow:"0",bg:"transparent"}},r.a.createElement(v.a,{size:"lg"}," ",t.displayName)),r.a.createElement(F.c,null,r.a.createElement(F.b,{as:"button",onClick:a},"Logout"))):r.a.createElement(p.a,null);return r.a.createElement(h.a,null,r.a.createElement(m.a,null),r.a.createElement(p.a,{alignItems:"center",justifyContent:"space-between",mx:"auto",backgroundColor:"#f8f9fa",p:"5px 50px"},r.a.createElement(v.a,{size:"2xl",className:"logo",color:"rgba(0,0,0,0.9)"},"Todo App"),r.a.createElement(h.a,null,n)))},M=a(48),J=a(80),K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).auth=E.auth(),a.checkUser=function(){a.auth.onAuthStateChanged((function(e){e?(console.log(e.uid),a.setState({user:e})):a.setState({user:e})}))},a.handelLagout=function(){E.auth().signOut().then((function(){this.checkUser()})).catch((function(e){}))},a.state={user:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkUser()}},{key:"render",value:function(){var e=this.state.user?r.a.createElement(M.a,{exact:!0,path:"/",component:W}):r.a.createElement(M.a,{exact:!0,path:"/",component:x});return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{user:this.state.user,handelLagout:this.handelLagout}),r.a.createElement(J.a,null,e))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,a){e.exports=a(110)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.28ebbef9.chunk.js.map